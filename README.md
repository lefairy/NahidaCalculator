#### 第五代原神毕业模拟器虽迟但到，使用Unity重制，带着极致的效率、精度、兼容性和美观正式登场！  让人人都能拉表和配装就是本工具的最大价值，欢迎反馈问题或提出建议，工具的改进离不开各位的支持。

### v5.1更新内容：  
- 计算相关调整(重要，必读)：  
属性转化率调整：属性转化率不再需要考虑转化前后属性是否带有百分号，如每1点“生命值”转化为1点“攻击力”，则在“转化率%”中填入100(与旧版本相同)，而每1点“生命值”转化为1点“伤害加成%”(即1%伤害加成)同样填入100(旧版本中为填入1)，
同理每1点“暴击率%”转化为1点“元素精通”仍然填入100(旧版本中为填入10000)  
- 存档功能优化：  
1、增加存档合集功能，快捷分享多个存档：进入“批量操作”页面，选中数个存档后使用“生成合集”即可在文本框中生成压缩文本，点击“复制”后可手动粘贴到文本文件进行分享，点击“读取合集”会解析文本框中的压缩文本并还原为多个存档(此时展示合集中的存档，临时隐藏本地存档)，
读取成功后“删除”按钮变为“写入存档”，用于将选中的存档保存至本地  
2、存档支持重命名和批量删除  
3、限制存档和文件夹名称，禁用windows中不允许使用的字符，已有的含有禁用字符的存档和文件夹会被自动重命名  
4、限制存档完整路径长度以防止部分系统无法正常读写存档，可以在设置中手动调整  
5、减少存档刷新频率，提高操作流畅度  
6、修复存档较多时上下滑动不顺畅和可能覆盖掉其他界面的问题  
- 其他细节优化：  
1、安卓端点击输入框时光标默认位置改为末尾  
2、数字类设置项输入值非法时自动重置回默认值  

### 功能特点：  
1、本工具为通用计算器，所有数据都可以自行录入，可以用于计算未实装角色甚至虚构角色。但相对的，本工具不提供原神或星铁数据库，需要自行前往wiki等查询角色数据  
2、可以通过分享存档文件的方式快捷计算，存档文件为可读的json格式，可以手动修改。工具内置数据只有主副词条默认值，同样可以修改和保存到存档。存档可以创建一级文件夹方便分类管理，可以修改存档路径，注意修改路径时会迁移文件夹内所有文件，安卓设备修改存档路径需要权限  
3、可以切换原神或星铁的计算模式，根据模式不同会自动调整怪物等级、抗性和部分计算公式，自动启用或禁用元素精通、速度和击破特攻，目前不支持效果命中和效果抵抗。由于词条默认值会被存档保存和从存档读取，切换模式后需要手动点击按钮重置为对应模式的默认值  
4、支持自动分配副词条，配合专门优化的计算逻辑，计算精度能够达到惊人的double类型最小正值(约`1e-300`)，默认的`1e-10`已经足够使用  
5、支持计算治疗、护盾和承伤能力，每个技能可独立开关是否享受治疗加成等属性的增益，但不会违反原设定(如剧变反应固定不吃双暴增伤防御，击破不吃双暴增伤)，甚至可以使剧变反应触发增幅反应(如冰扩散触发融化)  
6、纳西妲风格的界面设计，可自由调节窗口尺寸，自动适应单双列显示，完全免费无广，支持win64、linux_x64、和安卓(11及以上)三种系统，随时随地进入智慧之殿堂  

### 计算相关注意事项：  
1、原神模式下，工具默认角色90级，怪物100级，具有10%抗性；星铁模式下，默认角色80级，怪物95级，无抗性和未破韧的减伤  
2、计算模式(原神/星铁)不会被存档保存，读档后注意手动切换，无论什么模式下敌方易伤都是一个单独的乘区，不会与增伤加算(原神游戏中如莫娜的星异效果为使敌方受伤增加，但实际和增伤在同一个乘区，与增伤加算)  
3、计算承伤的模式下得出的结果是等效1000防御(原神)/1150防御(星铁)的生命值(如星铁角色5000生命值、2300防御、40%抗性、20%减伤，则结果为`5000*(1+2300/1150)/2/(1-40%)/(1-20%)=15625)`  
4、所有百分比类属性在填写时均按百分数(不带百分号)填写，如46.6%的百分比攻击力加成，在输入框中填入46.6；属性转化率类似，不需要考虑属性本身是否带有百分号，如每1点“生命值”转化为1点“攻击力”，
则在“转化率%”中填入100(与旧版本相同)，而每1点“生命值”转化为1点“伤害加成%”(即1%伤害加成)同样填入100(旧版本中为填入1)，同理每1点“暴击率%”转化为1点“元素精通”仍然填入100(旧版本中为填入10000)  
5、伤害加成和治疗加成的副词条默认值仅用于计算收益率，方便选择主词条，不参与词条分配计算  
6、关于击破伤害计算，超击破每10点实际削韧记为100%击破倍率，再乘以超击破倍率(如同谐主对单为160%，忘归人为100%，流萤自带50%等)后填入击破倍率
(如在队伍中存在忘归人和阮梅buff时使用流萤强化战技攻击已经击破的敌人，造成`30*1.5=45`点削韧，带有`100%+50%=150%`超击破倍率，则击破倍率为`45/10*150%=675%`，实际填入675)；
常规击破伤害公式为`(50%+韧性上限/40)*属性系数`，其中属性系数为：物理/火=2，风=1.5，雷/冰=1，量子/虚数=0.5(如使用火属性击破韧性上限为100的敌人，则击破倍率为`(50%+100/40)*2=600%`，实际填入600)  

### 后续待更新内容预告：  
1、可视化时间轴：在多行时间轴上创建任意个技能实例， 使增益覆盖更加精确，并能按时间轴显示伤害分布  
2、内置使用说明：详细解释各功能和名词的具体含义  
3、多起点的词条分配计算：由于属性转化可能存在起止点，导致属性收益存在阈值，多起点可以有效防止词条分配陷入局部最优(当前版本起点为将所有词条均分给所有属性)  
4、最高大数字：计算各技能能够造成的最高单段伤害(当前版本有控件但未实装功能)  
5、屏幕方向自动切换：在移动设备上读取陀螺仪数据以自动切换横屏或竖屏，以及可选的隐藏顶部状态栏、侧面留空以适配异形屏等选项(当前版本可以使用强制旋转屏幕的软件切换横竖屏)  

### 界面展示：
![image](https://github.com/user-attachments/assets/12dffa98-68e9-4e21-8a48-33318beefb81)
![image](https://github.com/user-attachments/assets/2ff58b5f-dd5c-493a-a686-a5c6a4d829bb)
![image](https://github.com/user-attachments/assets/4a9f7e79-2720-4f79-aebd-b36ea91ed9bd)

### 下载链接(已更新v5.1)：  
蓝奏云：https://wwvb.lanzout.com/b0017ho69g密码：nahida  
NGA论坛：https://nga.178.com/read.php?tid=44068888&_ff=650  
B站专栏：https://www.bilibili.com/opus/1066084515838951449  
